* Running the CMSSW generation on Batch

The TTbar script used for generation can take an argument for 1 to
generate sWsW or 0 to generate bWbW or 2 to generate with
Vts=Vtb=sqrt(.5). When sending to the batch system, change this in the
"arguments" line of the tsWbatch.jds file.

For generation from 012j @ NLO, look in cms/gridpack:

cp /cvmfs/cms.cern.ch/phys_generator/gridpacks/2017/13TeV/madgraph/V5_2.6.1/tt012j_5f_ckm_NLO_FXFX_VMG5_261_slc6_amd64_gcc481_CMSSW_7_1_30_tarball.tar.xz .
tar xf tt012j_5f_ckm_NLO_FXFX_VMG5_261_slc6_amd64_gcc481_CMSSW_7_1_30_tarball.tar.xz
cmsRun LHW_GEN_SIM.py
cmsRun step2_DIGI_L1_DIGI2RAW_HLT.py
cmsRun step3_RAW2DIGI_L1Reco_RECO_RECOSIM_EI_PAT_VALIDATION_DQM.py
cmsRun nanoAOD_NANO.py

Use /cms/merge.py to hadd after batching

* Running CMSSW production

Find workflow numbers

```
runTheMatrix.py -n -w 2017
```

Input files from:

```
runTheMatrix.py -w 2017 -l 10024.0
```

This creates the necessary python files, and runs a small sample. When
you have the python files, add the pythia8 settings into the step1
GENSIM file.

Then, copy pythia xml from PYTHIA8DATA setup by CMS, change Vtq
min/max and set (with /your/ pythia xml directory):

```
export SRT_PYTHIA8DATA_SCRAMRTDEL=/home/iwatson/CMSSW_9_4_0/src/pythia-xml
export PYTHIA8DATA=/home/iwatson/CMSSW_9_4_0/src/pythia-xml
```

(or set it in $CMSSW_BASE/config/toolbox/slc6_amd64_gcc630/tools/selected/pythia8.xml)

and then run the python files step by step throguh cmsRun (*dont run
the cmsDriver.py commands*, it overwrites the input files and you'll
have to add the pythia8 settings back)

* Setting up CMSSW for NanoAOD

cmsrel CMSSW_9_4_0
cd CMSSW_9_4_0/src
cmsenv
git-cms-init -q
git cms-merge-topic cms-nanoAOD:master
git checkout -b nanoAOD cms-nanoAOD/master
git clone https://github.com/cms-nanoAOD/nanoAOD-tools.git PhysicsTools/NanoAODTools
git clone git@github.com:watson-ij/nano.git
scram b -j 20

# Create the driver script nanoAOD_NANO.py
cmsDriver.py nanoAOD -s NANO --mc --customise nano/nanoAOD/nano_cff.customise --eventcontent NANOAODSIM --datatier NANOAODSIM --conditions auto:run2_mc --era Run2_2017 --no_exec
# Change the input file to whatever you are running
cmsRun nanoAOD_NANO.py
